Ext.Element.addMethods(function(){var h=Ext.getDom,c=Ext.get,g=Ext.DomHelper;var b={LINK:1,STYLE:1,META:1,SCRIPT:1,TITLE:1,FORM:1,HEAD:1};var f={contenteditable:1};var a=function(i){if(i.nodeType&&i.nodeType!==1){return false}i=i.nodeName||i;return(/^(H[1-6]|HR|P|DIV|ADDRESS|PRE|FORM|TABLE|LI|OL|UL|TH|TBODY|TR|TD|CAPTION|BLOCKQUOTE|CENTER|DL|DT|DD|DIR|FIELDSET|NOSCRIPT|NOFRAMES|MENU|ISINDEX|SAMP)$/.test(i))};var e=function(o){var k,j,n=o.childNodes;for(k=0,j=n.length;k<j;k++){var m=n[k];switch(m.nodeType){case 1:if(b[m.nodeName]){m.AUIT_INIT=1}if(m.onclick){m.auit_onclick=m.onclick;m.onclick=null}if(m.ondblclick){m.auit_ondblclick=m.ondblclick;m.ondblclick=null}e(m);break;case 3:break;case 2:break;case 8:m.AUIT_INIT=1;break}}};var d=function(i){return(i.contentEditable===true||i.contentEditable==="true")};return{createFirstMarker:function(){return;if(!this.firstMarker){this.firstMarker=this.createChild({tag:"p",html:'<br _moz_editor_bogus_node="TRUE"/>',style:"line-height:0px;font-size:0px;-moz-user-select:none"});this.insertFirst(this.firstMarker)}},removeFirstMarker:function(){return;if(this.firstMarker){this.firstMarker.remove()}this.firstMarker=null},getParentBlockNode:function(){var i=this.dom;while(i){if(d(i)){return null}if(a(i)){return Ext.fly(i)}i=i.parentNode}return null},getFocusBlock:function(){var j,p,k=this.dom.childNodes,l,o,m=0;for(l=0;l<k.length;l++){j=k[l];if(j.nodeType===3){if(/[^\s]/g.test(j.nodeValue)){return null}}if(j.nodeType===1&&a(j)){return j.firstChild}if(j.nodeType===1){return null}}return null},checkEmptyHTML:function(){var j,k=this.dom.childNodes,l,m=0;if(this.getHeight()>0){for(l=0;l<k.length;l++){j=k[l];if(j.nodeType===3){if((/\S+/.test(j.nodeValue))){return false}}if(j.nodeType===1){if(j.nodeName!="BR"){return false}m++;if(m>1){return false}}}}var o,n=this.dom.ownerDocument;if(!j||j.nodeName!="BR"){j=n.createElement("br");this.dom.appendChild(j)}o=n.createElement("p");j.parentNode.replaceChild(o,j);o.appendChild(j);return true},isInContentEditable:function(){var i=this.dom;while(i){if(i.getAttribute){var j=i.getAttribute("contentEditable");if(j==="false"||j==="true"){return j==="true"?i:null}if(Ext.get(i).hasClass("nocontenteditable")){return null}}i=i.parentNode}return null},isInInlineBlock:function(){var i=this.dom;if(i){i=i.parentNode}while(i){if(Ext.fly(i).hasClass("auit-edit-block-inline")){return true}i=i.parentNode}return null},isInEditBlock:function(){var i=this.dom;if(i){i=i.parentNode}while(i){if(Ext.fly(i).hasClass("auit-edit-block")){return true}i=i.parentNode}return null},isContentEditable:function(){var i=(this.dom.contentEditable===true||this.dom.contentEditable==="true");return i},setContentEditable:function(i){if(i){this.prepareContentEditable();this.set({contentEditable:true});try{this.dom.ownerDocument.execCommand("styleWithCSS",0,true)}catch(j){alert(j)}}else{this.set({contentEditable:false})}},prepareContentEditable:function(){e(this.dom)},TypeNode:function(i){var j=this.dom;i=i||1;while(j&&j.nodeType!=i){j=j.parentNode}return Ext.get(j)}}}());
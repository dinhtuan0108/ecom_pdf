var HTMLMixedParser=Editor.Parser=(function(){if(!(CSSParser&&JSParser&&XMLParser)){throw new Error("CSS, JS, and XML parsers must be loaded for HTML mixed mode to work.")}XMLParser.configure({useHTMLKludges:true});function a(f){var d=XMLParser.make(f),i=null,h=false;var b={next:e,copy:g};function e(){var j=d.next();if(j.content=="<"){h=true}else{if(j.style=="xml-tagname"&&h===true){h=j.content.toLowerCase()}else{if(j.content==">"){if(h=="script"){b.next=c(JSParser,"<\/script")}else{if(h=="style"){b.next=c(CSSParser,"</style")}}h=false}}}return j}function c(l,j){var k=d.indentation();i=l.make(f,k+indentUnit);return function(){if(f.lookAhead(j,false,false,true)){i=null;b.next=e;return e()}var n=i.next();var m=n.value.lastIndexOf("<"),o=Math.min(n.value.length-m,j.length);if(m!=-1&&n.value.slice(m,m+o).toLowerCase()==j.slice(0,o)&&f.lookAhead(j.slice(o),false,false,true)){f.push(n.value.slice(m));n.value=n.value.slice(0,m)}if(n.indentation){var p=n.indentation;n.indentation=function(q){if(q=="</"){return k}else{return p(q)}}}return n}}function g(){var j=d.copy(),m=i&&i.copy(),k=b.next,l=h;return function(n){f=n;d=j(n);i=m&&m(n);b.next=k;h=l;return b}}return b}return{make:a,electricChars:"{}/:"}})();